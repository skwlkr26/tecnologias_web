import{a as N,b as V,c as O,d as A,e as D,f as T,j as R,k as W}from"./chunk-H4KKJGEA.js";import{a as k}from"./chunk-ZAZI6GCV.js";import{C as f,I as g,J as o,K as r,M as v,N as M,O as s,P as _,R as m,S as y,T as x,U as C,V as b,X as w,da as E,ea as S,la as I,n as l,na as P,o as p,v as d,x as u,y as h}from"./chunk-L4HRABAG.js";function j(i,a){if(i&1&&(o(0,"div",10),m(1),r()),i&2){let e=s(2);d(),y(e.error)}}function q(i,a){if(i&1){let e=v();o(0,"div")(1,"form",4,1),M("ngSubmit",function(){l(e);let t=s();return p(t.createItem())}),o(3,"div",5)(4,"label"),m(5,"Nombre"),r(),o(6,"input",6),b("ngModelChange",function(t){l(e);let c=s();return C(c.name,t)||(c.name=t),p(t)}),r()(),o(7,"div",5)(8,"label"),m(9,"Descripci\xF3n"),r(),o(10,"input",7),b("ngModelChange",function(t){l(e);let c=s();return C(c.description,t)||(c.description=t),p(t)}),r()(),o(11,"button",8),m(12,"Crear"),r(),f(13,j,2,1,"div",9),r()()}if(i&2){let e=_(2),n=s();d(6),x("ngModel",n.name),d(4),x("ngModel",n.description),d(),g("disabled",n.loading||!e.valid),d(2),g("ngIf",n.error)}}function z(i,a){i&1&&(o(0,"div",10),m(1,"No tienes permisos para crear \xEDtems."),r())}var F=class i{constructor(a,e,n){this.crud=a;this.router=e;this.auth=n;this.isAdmin=this.auth.getRole()==="admin"}name="";description="";error="";loading=!1;isAdmin=!1;createItem(){this.error="",this.loading=!0,this.crud.create(this.name,this.description).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/list"])},error:a=>{this.loading=!1,this.error=a.error?.message||"Error al crear el \xEDtem"}})}static \u0275fac=function(e){return new(e||i)(u(k),u(I),u(P))};static \u0275cmp=h({type:i,selectors:[["app-create"]],decls:6,vars:2,consts:[["noPerm",""],["f","ngForm"],[1,"create-container"],[4,"ngIf","ngIfElse"],[3,"ngSubmit"],[1,"form-group"],["name","name","required","",3,"ngModelChange","ngModel"],["name","description","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,n){if(e&1&&(o(0,"div",2)(1,"h2"),m(2,"Crear nuevo \xEDtem"),r(),f(3,q,14,4,"div",3)(4,z,2,0,"ng-template",null,0,w),r()),e&2){let t=_(5);d(3),g("ngIf",n.isAdmin)("ngIfElse",t)}},dependencies:[S,E,W,T,N,V,O,R,D,A],styles:["form[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 2px 8px #00000014;display:flex;flex-direction:column;max-width:350px;margin:2rem auto;gap:1rem;padding:2rem 2rem 1rem}h2[_ngcontent-%COMP%]{text-align:center;color:#3a3a3a;margin-bottom:1rem}input[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid #bfc9d1;border-radius:5px;font-size:1rem;transition:border .2s}input[_ngcontent-%COMP%]:focus{border:1.5px solid #6c63ff;outline:none}button[_ngcontent-%COMP%]{background:#6c63ff;color:#fff;border:none;border-radius:5px;padding:.7rem;font-size:1rem;cursor:pointer;transition:background .2s}button[_ngcontent-%COMP%]:hover{background:#554ee2}a[_ngcontent-%COMP%]{text-align:center;display:block;margin-top:1rem;color:#6c63ff;text-decoration:none;font-weight:500}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.success[_ngcontent-%COMP%]{color:#27ae60;text-align:center}"]})};export{F as Create};

import{a as V,b as E,c as k,d as N,e as T,f as W,g as I,h as A,i as F,j as L,k as q}from"./chunk-K3YYUT66.js";import{C as M,I as _,J as e,K as r,M as C,N as h,O as y,P as S,R as n,S as v,T as c,U as p,V as f,da as P,ea as x,la as O,n as l,na as R,o as g,v as s,x as b,y as w}from"./chunk-B3SVNYKN.js";function D(d,m){if(d&1&&(e(0,"div",12),n(1),r()),d&2){let o=y();s(),v(o.error)}}var z=class d{constructor(m,o){this.auth=m;this.router=o}username="";password="";role="user";error="";loading=!1;register(){this.error="",this.loading=!0,this.auth.register(this.username,this.password,this.role).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/login"])},error:m=>{this.loading=!1,this.error=m.error?.message||"Error al registrar"}})}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(o){return new(o||d)(b(R),b(O))};static \u0275cmp=w({type:d,selectors:[["app-register"]],decls:26,vars:5,consts:[["f","ngForm"],[1,"register-container"],[3,"ngSubmit"],[1,"form-group"],["name","username","required","",3,"ngModelChange","ngModel"],["name","password","type","password","required","",3,"ngModelChange","ngModel"],["name","role","required","",3,"ngModelChange","ngModel"],["value","user"],["value","admin"],["type","submit",3,"disabled"],["type","button",1,"login-btn",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(o,t){if(o&1){let a=C();e(0,"div",1)(1,"h2"),n(2,"Registro"),r(),e(3,"form",2,0),h("ngSubmit",function(){return l(a),g(t.register())}),e(5,"div",3)(6,"label"),n(7,"Usuario"),r(),e(8,"input",4),f("ngModelChange",function(i){return l(a),p(t.username,i)||(t.username=i),g(i)}),r()(),e(9,"div",3)(10,"label"),n(11,"Contrase\xF1a"),r(),e(12,"input",5),f("ngModelChange",function(i){return l(a),p(t.password,i)||(t.password=i),g(i)}),r()(),e(13,"div",3)(14,"label"),n(15,"Rol"),r(),e(16,"select",6),f("ngModelChange",function(i){return l(a),p(t.role,i)||(t.role=i),g(i)}),e(17,"option",7),n(18,"Usuario"),r(),e(19,"option",8),n(20,"Administrador"),r()()(),e(21,"button",9),n(22,"Registrarse"),r(),e(23,"button",10),h("click",function(){return l(a),g(t.goToLogin())}),n(24,"Volver a login"),r(),M(25,D,2,1,"div",11),r()()}if(o&2){let a=S(4);s(8),c("ngModel",t.username),s(4),c("ngModel",t.password),s(4),c("ngModel",t.role),s(5),_("disabled",t.loading||!a.valid),s(4),_("ngIf",t.error)}},dependencies:[x,P,q,W,A,F,V,I,E,k,L,T,N],styles:[".register-container[_ngcontent-%COMP%]{max-width:350px;margin:3rem auto;padding:2.5rem 2rem 2rem;background:#fff;border-radius:12px;box-shadow:0 4px 24px #2c3e501a;text-align:center}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#6c63ff;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.3rem;color:#444;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.6rem .8rem;border:1px solid #d1d1d1;border-radius:6px;font-size:1rem;background:#f8f8ff;transition:border .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#6c63ff;outline:none}button[type=submit][_ngcontent-%COMP%]{width:100%;background:#6c63ff;color:#fff;border:none;border-radius:6px;padding:.7rem;font-size:1.1rem;font-weight:600;margin-bottom:.7rem;cursor:pointer;transition:background .2s}button[type=submit][_ngcontent-%COMP%]:hover{background:#554ee2}.login-btn[_ngcontent-%COMP%]{width:100%;background:#fff;color:#6c63ff;border:1px solid #6c63ff;border-radius:6px;padding:.7rem;font-size:1.1rem;font-weight:600;margin-bottom:.7rem;cursor:pointer;transition:background .2s,color .2s}.login-btn[_ngcontent-%COMP%]:hover{background:#6c63ff;color:#fff}.error[_ngcontent-%COMP%]{color:#e74c3c;margin-top:.7rem;font-size:.98rem}"]})};export{z as Register};

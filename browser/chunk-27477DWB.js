import{a as V,b as E,c as L,d as N,e as I,f as T,j as R,k as F}from"./chunk-CLL5XP7I.js";import{C,I as f,J as t,K as r,M,N as p,O as y,P as v,R as o,S as P,T as b,U as _,V as h,da as x,ea as S,la as O,n as d,na as k,o as l,v as s,x as c,y as w}from"./chunk-BNIHG3HZ.js";function z(g,m){if(g&1&&(t(0,"div",9),o(1),r()),g&2){let n=y();s(),P(n.error)}}var W=class g{constructor(m,n){this.auth=m;this.router=n}username="";password="";error="";loading=!1;login(){this.error="",this.loading=!0,this.auth.login(this.username,this.password).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/list"])},error:m=>{this.loading=!1,this.error=m.error?.message||"Credenciales incorrectas"}})}goToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(n){return new(n||g)(c(k),c(O))};static \u0275cmp=w({type:g,selectors:[["app-login"]],decls:18,vars:4,consts:[["f","ngForm"],[1,"login-container"],[3,"ngSubmit"],[1,"form-group"],["name","username","required","",3,"ngModelChange","ngModel"],["name","password","type","password","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["type","button",1,"register-btn",3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,e){if(n&1){let a=M();t(0,"div",1)(1,"h2"),o(2,"Iniciar sesi\xF3n"),r(),t(3,"form",2,0),p("ngSubmit",function(){return d(a),l(e.login())}),t(5,"div",3)(6,"label"),o(7,"Usuario"),r(),t(8,"input",4),h("ngModelChange",function(i){return d(a),_(e.username,i)||(e.username=i),l(i)}),r()(),t(9,"div",3)(10,"label"),o(11,"Contrase\xF1a"),r(),t(12,"input",5),h("ngModelChange",function(i){return d(a),_(e.password,i)||(e.password=i),l(i)}),r()(),t(13,"button",6),o(14,"Entrar"),r(),t(15,"button",7),p("click",function(){return d(a),l(e.goToRegister())}),o(16,"Registrarse"),r(),C(17,z,2,1,"div",8),r()()}if(n&2){let a=v(4);s(8),b("ngModel",e.username),s(4),b("ngModel",e.password),s(),f("disabled",e.loading||!a.valid),s(4),f("ngIf",e.error)}},dependencies:[S,x,F,T,V,E,L,R,I,N],styles:[".login-container[_ngcontent-%COMP%]{max-width:350px;margin:3rem auto;padding:2.5rem 2rem 2rem;background:#fff;border-radius:12px;box-shadow:0 4px 24px #2c3e501a;text-align:center}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#6c63ff;margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.3rem;color:#444;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.6rem .8rem;border:1px solid #d1d1d1;border-radius:6px;font-size:1rem;background:#f8f8ff;transition:border .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#6c63ff;outline:none}button[type=submit][_ngcontent-%COMP%]{width:100%;background:#6c63ff;color:#fff;border:none;border-radius:6px;padding:.7rem;font-size:1.1rem;font-weight:600;margin-bottom:.7rem;cursor:pointer;transition:background .2s}button[type=submit][_ngcontent-%COMP%]:hover{background:#554ee2}.register-btn[_ngcontent-%COMP%]{width:100%;background:#fff;color:#6c63ff;border:1px solid #6c63ff;border-radius:6px;padding:.7rem;font-size:1.1rem;font-weight:600;margin-bottom:.7rem;cursor:pointer;transition:background .2s,color .2s}.register-btn[_ngcontent-%COMP%]:hover{background:#6c63ff;color:#fff}.error[_ngcontent-%COMP%]{color:#e74c3c;margin-top:.7rem;font-size:.98rem}"]})};export{W as Login};

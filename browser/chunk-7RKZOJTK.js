import{a as P,b as V,c as O,d as R,e as D,f as W,j as k,k as A}from"./chunk-K3YYUT66.js";import{a as F}from"./chunk-F43YCILJ.js";import{C,I as g,J as t,K as i,M,N as v,O as x,P as y,R as d,S as E,T as f,U as b,V as _,da as w,ea as S,ja as I,la as N,n as c,o as u,v as a,x as p,y as h}from"./chunk-B3SVNYKN.js";function z(m,s){if(m&1&&(t(0,"div",8),d(1),i()),m&2){let n=x();a(),E(n.error)}}var T=class m{constructor(s,n,e){this.crud=s;this.route=n;this.router=e;let r=Number(this.route.snapshot.paramMap.get("id"));r&&this.crud.getById(r).subscribe({next:l=>this.item=l,error:()=>this.error="No se pudo cargar el \xEDtem"})}item={id:0,name:"",description:""};error="";loading=!1;updateItem(){this.error="",this.loading=!0,this.crud.update(this.item.id,this.item.name,this.item.description).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/list"])},error:s=>{this.loading=!1,this.error=s.error?.message||"Error al actualizar el \xEDtem"}})}static \u0275fac=function(n){return new(n||m)(p(F),p(I),p(N))};static \u0275cmp=h({type:m,selectors:[["app-edit"]],decls:16,vars:4,consts:[["f","ngForm"],[1,"edit-container"],[3,"ngSubmit"],[1,"form-group"],["name","name","required","",3,"ngModelChange","ngModel"],["name","description","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,e){if(n&1){let r=M();t(0,"div",1)(1,"h2"),d(2,"Editar \xEDtem"),i(),t(3,"form",2,0),v("ngSubmit",function(){return c(r),u(e.updateItem())}),t(5,"div",3)(6,"label"),d(7,"Nombre"),i(),t(8,"input",4),_("ngModelChange",function(o){return c(r),b(e.item.name,o)||(e.item.name=o),u(o)}),i()(),t(9,"div",3)(10,"label"),d(11,"Descripci\xF3n"),i(),t(12,"input",5),_("ngModelChange",function(o){return c(r),b(e.item.description,o)||(e.item.description=o),u(o)}),i()(),t(13,"button",6),d(14,"Actualizar"),i(),C(15,z,2,1,"div",7),i()()}if(n&2){let r=y(4);a(8),f("ngModel",e.item.name),a(4),f("ngModel",e.item.description),a(),g("disabled",e.loading||!r.valid),a(2),g("ngIf",e.error)}},dependencies:[S,w,A,W,P,V,O,k,D,R],styles:["form[_ngcontent-%COMP%]{background:#fff;border-radius:10px;box-shadow:0 2px 8px #00000014;display:flex;flex-direction:column;max-width:350px;margin:2rem auto;gap:1rem;padding:2rem 2rem 1rem}h2[_ngcontent-%COMP%]{text-align:center;color:#3a3a3a;margin-bottom:1rem}input[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid #bfc9d1;border-radius:5px;font-size:1rem;transition:border .2s}input[_ngcontent-%COMP%]:focus{border:1.5px solid #6c63ff;outline:none}button[_ngcontent-%COMP%]{background:#6c63ff;color:#fff;border:none;border-radius:5px;padding:.7rem;font-size:1rem;cursor:pointer;transition:background .2s}button[_ngcontent-%COMP%]:hover{background:#554ee2}a[_ngcontent-%COMP%]{text-align:center;display:block;margin-top:1rem;color:#6c63ff;text-decoration:none;font-weight:500}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.success[_ngcontent-%COMP%]{color:#27ae60;text-align:center}"]})};export{T as Edit};
